#!/bin/bash
#

######################################################################################
###############################  FUNCTION  ###########################################
######################################################################################
function onError() {
  echo "$(basename "$0") script error: line $1, '${BASH_COMMAND}'"
}

######################################################################################
#################################  INIT  #############################################
######################################################################################
#Current Path
CPTH="$(pwd -P)"
#Script Path
SPTH="$(
  cd "$(dirname "$(readlink -f "$0")")" >/dev/null 2>&1
  pwd -P
)"
#Script File
SCRIPT="$(realpath -s "$(readlink -f "$0")")"
#Script Args
SARGS=("$@")

#change exec directory to script directory
cd "$(dirname "$0")"
#exit when any command fails
set -eE

#Command
trap 'onError ${LINENO}' ERR #Callback function set when error occur

######################################################################################
#################################  CONTROL  ##########################################
######################################################################################

######################################################################################
################################  SCRIPT  ############################################
######################################################################################
cd /project

# dpkg -i /project/output/poco-*.deb || apt install -fy

# poco setup
# poco install traefik -t traefik
# poco ps
# poco status traefik -e
